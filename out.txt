   Compiling ai-agent-common v0.1.0 (/home/data01/Projects/q/crates/common)
warning: unused import: `info`
 --> crates/common/src/config.rs:2:15
  |
2 | use tracing::{info, warn};
  |               ^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `Config`
 --> crates/common/src/tracing.rs:4:41
  |
4 | use opentelemetry_sdk::trace::{Sampler, Config};
  |                                         ^^^^^^

warning: unused import: `runtime`
 --> crates/common/src/tracing.rs:5:35
  |
5 | use opentelemetry_sdk::{Resource, runtime};
  |                                   ^^^^^^^

warning: unused import: `Span`
 --> crates/common/src/tracing.rs:7:37
  |
7 | use opentelemetry::{global, trace::{Span, Tracer}};
  |                                     ^^^^

warning: unused import: `Tracer`
 --> crates/common/src/tracing.rs:7:43
  |
7 | use opentelemetry::{global, trace::{Span, Tracer}};
  |                                           ^^^^^^

warning: unused variable: `max_attempts`
   --> crates/common/src/types.rs:360:25
    |
360 |             Self::Retry{max_attempts,backoff_ms} => true,
    |                         ^^^^^^^^^^^^ help: try ignoring the field: `max_attempts: _`
    |
    = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: unused variable: `backoff_ms`
   --> crates/common/src/types.rs:360:38
    |
360 |             Self::Retry{max_attempts,backoff_ms} => true,
    |                                      ^^^^^^^^^^ help: try ignoring the field: `backoff_ms: _`

   Compiling ai-agent-storage v0.1.0 (/home/data01/Projects/q/crates/storage)
warning: unused import: `std::collections::HashMap`
 --> crates/storage/src/qdrant.rs:1:5
  |
1 | use std::collections::HashMap;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `Value`
  --> crates/storage/src/qdrant.rs:10:118
   |
10 | use qdrant_client::qdrant::{Condition, Filter, Fusion, PrefetchQueryBuilder, Query, QueryPointsBuilder, ScoredPoint, Value, VectorInput};
   |                                                                                                                      ^^^^^

warning: unused imports: `Definition`, `MetadataContextFragment`, and `StructureContextFragmentBuilder`
  --> crates/storage/src/qdrant.rs:13:91
   |
13 | ...t, Definition, Location, MetadataContextFragment, MetadataContextFragmentBuilder, ProjectScope, StructureContextFragment, StructureContextFragmentBuilder, T...
   |       ^^^^^^^^^^            ^^^^^^^^^^^^^^^^^^^^^^^                                                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `SparseEmbeddings`
  --> crates/storage/src/qdrant.rs:16:33
   |
16 | use swiftide::{SparseEmbedding, SparseEmbeddings};
   |                                 ^^^^^^^^^^^^^^^^

warning: unused variable: `filter`
   --> crates/storage/src/qdrant.rs:140:13
    |
140 |         let filter = self.build_metadata_filter(project_scope)?;
    |             ^^^^^^ help: if this is intentional, prefix it with an underscore: `_filter`
    |
    = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: use of deprecated method `redis::AsyncCommands::set_multiple`: Renamed to mset() to reflect Redis name
  --> crates/storage/src/redis.rs:98:14
   |
98 |         conn.set_multiple::<_, _, ()>(pairs)
   |              ^^^^^^^^^^^^
   |
   = note: `#[warn(deprecated)]` on by default

warning: `ai-agent-common` (lib) generated 7 warnings (run `cargo fix --lib -p ai-agent-common` to apply 4 suggestions)
warning: field `client` is never read
 --> crates/storage/src/redis.rs:9:5
  |
8 | pub struct RedisCache {
  |            ---------- field in this struct
9 |     client: redis::Client,
  |     ^^^^^^
  |
  = note: `RedisCache` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis
  = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

   Compiling ai-agent-indexing v0.1.0 (/home/data01/Projects/q/crates/indexing)
warning: `ai-agent-storage` (lib) generated 7 warnings (run `cargo fix --lib -p ai-agent-storage` to apply 4 suggestions)
warning: unused import: `types::*`
 --> crates/indexing/src/watcher.rs:1:40
  |
1 | use ai_agent_common::{IndexingFilters, types::*};
  |                                        ^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `anyhow`
 --> crates/indexing/src/pipeline.rs:3:31
  |
3 | use anyhow::{Context, Result, anyhow};
  |                               ^^^^^^

warning: unused import: `serde_json::json`
 --> crates/indexing/src/pipeline.rs:5:5
  |
5 | use serde_json::json;
  |     ^^^^^^^^^^^^^^^^

warning: unused import: `fs`
 --> crates/indexing/src/pipeline.rs:6:11
  |
6 | use std::{fs, path::{Path, PathBuf}, sync::Arc};
  |           ^^

warning: unused imports: `Parser` and `Tree`
  --> crates/indexing/src/pipeline.rs:10:25
   |
10 | use tree_sitter::{self, Parser, Tree};
   |                         ^^^^^^  ^^^^

warning: unused imports: `RepoRoot` and `projects::GitProject`
 --> crates/indexing/src/metadata_transformer.rs:3:17
  |
3 | use repo_root::{projects::GitProject, RepoRoot};
  |                 ^^^^^^^^^^^^^^^^^^^^  ^^^^^^^^

warning: unused import: `fs`
 --> crates/indexing/src/metadata_chunk_transformer.rs:1:33
  |
1 | use std::{collections::HashMap, fs, path::Path};
  |                                 ^^

warning: unused imports: `DefinitionBuilder`, `Definition`, `LanguageIter`, and `Language`
 --> crates/indexing/src/metadata_chunk_transformer.rs:3:23
  |
3 | use ai_agent_common::{Definition, DefinitionBuilder, Language, LanguageIter, StructureContextFragment, StructureContextFragmentBuilder};
  |                       ^^^^^^^^^^  ^^^^^^^^^^^^^^^^^  ^^^^^^^^  ^^^^^^^^^^^^

warning: unused imports: `RepoRoot` and `projects::GitProject`
 --> crates/indexing/src/metadata_chunk_transformer.rs:7:17
  |
7 | use repo_root::{projects::GitProject, RepoRoot};
  |                 ^^^^^^^^^^^^^^^^^^^^  ^^^^^^^^

warning: unused import: `Node`
 --> crates/indexing/src/metadata_chunk_transformer.rs:9:37
  |
9 | use swiftide::{indexing::{Metadata, Node, TextNode, Transformer}, traits::WithIndexingDefaults};
  |                                     ^^^^

warning: unused imports: `QueryMatches` and `TextProvider`
  --> crates/indexing/src/metadata_chunk_transformer.rs:10:95
   |
10 | ...s TsNode, Parser, Query, QueryCursor, Tree, QueryMatches, StreamingIterator, TextProvider};
   |                                                ^^^^^^^^^^^^                     ^^^^^^^^^^^^

warning: unused import: `strum::IntoEnumIterator`
 --> crates/indexing/src/metadata_chunk_transformer.rs:4:5
  |
4 | use strum::IntoEnumIterator;
  |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: unnecessary `unsafe` block
  --> crates/indexing/src/metadata_transformer.rs:70:26
   |
70 |             "ts" => Some(unsafe { tree_sitter_typescript::LANGUAGE_TYPESCRIPT }.into()),
   |                          ^^^^^^ unnecessary `unsafe` block
   |
   = note: `#[warn(unused_unsafe)]` (part of `#[warn(unused)]`) on by default

warning: unnecessary `unsafe` block
  --> crates/indexing/src/metadata_transformer.rs:71:27
   |
71 |             "tsx" => Some(unsafe { tree_sitter_typescript::LANGUAGE_TSX.into() }),
   |                           ^^^^^^ unnecessary `unsafe` block

warning: unused variable: `dependencies`
   --> crates/indexing/src/metadata_transformer.rs:178:13
    |
178 |         let dependencies = self.extract_dependencies(root, &node.chunk.as_bytes());
    |             ^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_dependencies`
    |
    = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: unnecessary `unsafe` block
   --> crates/indexing/src/metadata_chunk_transformer.rs:123:26
    |
123 |             "ts" => Some(unsafe { tree_sitter_typescript::LANGUAGE_TYPESCRIPT }.into()),
    |                          ^^^^^^ unnecessary `unsafe` block

warning: unnecessary `unsafe` block
   --> crates/indexing/src/metadata_chunk_transformer.rs:124:27
    |
124 |             "tsx" => Some(unsafe { tree_sitter_typescript::LANGUAGE_TSX.into() }),
    |                           ^^^^^^ unnecessary `unsafe` block

warning: unused variable: `capture_name`
   --> crates/indexing/src/metadata_chunk_transformer.rs:215:21
    |
215 |                 let capture_name = &query.capture_names()[capture.index as usize];
    |                     ^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_capture_name`

warning: unused variable: `root_node`
   --> crates/indexing/src/metadata_chunk_transformer.rs:256:13
    |
256 |         let root_node = tree.root_node();
    |             ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_root_node`

warning: field `redis_cache` is never read
  --> crates/indexing/src/pipeline.rs:26:5
   |
24 | pub struct IndexingPipeline {
   |            ---------------- field in this struct
25 |     qdrant_client: Arc<QdrantClient>,
26 |     redis_cache: Redis,
   |     ^^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: methods `extract_definitions` and `extract_references` are never used
   --> crates/indexing/src/metadata_transformer.rs:92:8
    |
 35 | impl ExtractMetadataTransformer {
    | ------------------------------- methods in this implementation
...
 92 |     fn extract_definitions(&self, ts_node: TsNode, source: &[u8]) -> Vec<String> {
    |        ^^^^^^^^^^^^^^^^^^^
...
148 |     fn extract_references(&self, ts_node: TsNode, source: &[u8]) -> Vec<String> {
    |        ^^^^^^^^^^^^^^^^^^

warning: method `print_node_tree` is never used
   --> crates/indexing/src/metadata_chunk_transformer.rs:167:8
    |
 42 | impl ExtractMetadataChunkTransformer {
    | ------------------------------------ method in this implementation
...
167 |     fn print_node_tree(&self, node: TsNode, source: &[u8], indent: usize) {
    |        ^^^^^^^^^^^^^^^

   Compiling ai-agent-rag v0.1.0 (/home/data01/Projects/q/crates/rag)
warning: unused import: `Context`
 --> crates/rag/src/context_manager.rs:1:14
  |
1 | use anyhow::{Context, Result};
  |              ^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused imports: `ProjectType` and `ProjectTypes`
 --> crates/rag/src/context_manager.rs:6:18
  |
6 | use repo_root::{ ProjectType, ProjectTypes, RepoRoot};
  |                  ^^^^^^^^^^^  ^^^^^^^^^^^^

warning: unused import: `std::env::current_dir`
 --> crates/rag/src/context_manager.rs:7:5
  |
7 | use std::env::current_dir;
  |     ^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `ai_agent_common::*`
 --> crates/rag/src/context_providers.rs:1:5
  |
1 | use ai_agent_common::*;
  |     ^^^^^^^^^^^^^^^^^^

warning: unused imports: `cmp::Reverse` and `collections::BTreeMap`
 --> crates/rag/src/retriever.rs:6:11
  |
6 | use std::{cmp::Reverse, collections::BTreeMap};
  |           ^^^^^^^^^^^^  ^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `instrument`
  --> crates/rag/src/retriever.rs:12:28
   |
12 | use tracing::{debug, info, instrument, warn};
   |                            ^^^^^^^^^^

warning: unused import: `std::collections::HashMap`
  --> crates/rag/src/web_crawler.rs:71:5
   |
71 | use std::collections::HashMap;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `tokio::time::Duration`
  --> crates/rag/src/web_crawler.rs:77:5
   |
77 | use tokio::time::Duration;
   |     ^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `SearchResult`
  --> crates/rag/src/web_crawler.rs:81:44
   |
81 | use crate::searxng_client::{SearXNGClient, SearchResult};
   |                                            ^^^^^^^^^^^^

warning: unused variable: `input`
  --> crates/rag/src/context_providers.rs:21:42
   |
21 |     pub async fn process_mentions(&self, input: &str) -> Result<Vec<(String, String)>> {
   |                                          ^^^^^ help: if this is intentional, prefix it with an underscore: `_input`
   |
   = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: `ai-agent-indexing` (lib) generated 22 warnings (run `cargo fix --lib -p ai-agent-indexing` to apply 11 suggestions)
warning: unused variable: `item`
   --> crates/rag/src/retriever.rs:192:24
    |
192 |         while let Some(item) = stream.next().await {
    |                        ^^^^ help: if this is intentional, prefix it with an underscore: `_item`

warning: unused variable: `raw_query`
   --> crates/rag/src/retriever.rs:204:9
    |
204 |         raw_query: String,
    |         ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_raw_query`

warning: unused variable: `project_scope`
   --> crates/rag/src/web_crawler.rs:897:9
    |
897 |         project_scope: ProjectScope,
    |         ^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_project_scope`

warning: field `providers` is never read
  --> crates/rag/src/context_providers.rs:13:5
   |
12 | pub struct ContextProviderEngine {
   |            --------------------- field in this struct
13 |     providers: std::collections::HashMap<String, Box<dyn ContextProvider>>,
   |     ^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: field `embedder` is never read
   --> crates/rag/src/retriever.rs:155:5
    |
153 | pub struct MultiSourceRetriever {
    |            -------------------- field in this struct
154 |     sources: Vec<Arc<dyn RetrieverSource>>,
155 |     embedder: Arc<EmbeddingClient>,
    |     ^^^^^^^^
    |
    = note: `MultiSourceRetriever` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: method `process_stream` is never used
   --> crates/rag/src/retriever.rs:191:14
    |
158 | impl MultiSourceRetriever {
    | ------------------------- method in this implementation
...
191 |     async fn process_stream(&self, mut stream: impl Stream<Item = Result<(ContextFragment,SparseEmbedding)>> + Unpin) {
    |              ^^^^^^^^^^^^^^

warning: fields `stream` and `priority` are never read
   --> crates/rag/src/retriever.rs:403:5
    |
402 | pub struct RetrieverSourcePrioStream {
    |            ------------------------- fields in this struct
403 |     stream: Pin<Box<dyn Stream<Item = Result<ContextFragment>> + Send>>,
    |     ^^^^^^
404 |     priority: u8,
    |     ^^^^^^^^

warning: fields `query` and `suggestions` are never read
  --> crates/rag/src/searxng_client.rs:38:5
   |
36 | struct SearXNGResponse {
   |        --------------- fields in this struct
37 |     /// Search query
38 |     query: String,
   |     ^^^^^
...
48 |     suggestions: Vec<String>,
   |     ^^^^^^^^^^^
   |
   = note: `SearXNGResponse` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: field `timeout` is never read
  --> crates/rag/src/searxng_client.rs:77:5
   |
69 | pub struct SearXNGClient {
   |            ------------- field in this struct
...
77 |     timeout: Duration,
   |     ^^^^^^^
   |
   = note: `SearXNGClient` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: `ai-agent-rag` (lib) generated 19 warnings (run `cargo fix --lib -p ai-agent-rag` to apply 9 suggestions)
warning: unused imports: `Language` and `ProjectScope`
  --> crates/rag/src/bin/rag_cli.rs:10:39
   |
10 | use ai_agent_common::{ConversationId, Language, ProjectScope, SystemConfig};
   |                                       ^^^^^^^^  ^^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `any`
 --> crates/rag/tests/common/mock_web_server.rs:4:40
  |
4 | use wiremock::matchers::{method, path, any};
  |                                        ^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `ContextFragment`
 --> crates/rag/tests/rag_integration_tests.rs:6:39
  |
6 | use ai_agent_common::{CollectionTier, ContextFragment, ConversationId};
  |                                       ^^^^^^^^^^^^^^^

warning: unused variable: `redis`
  --> crates/rag/tests/rag_integration_tests.rs:33:9
   |
33 |     let redis = create_test_redis_client().await?;
   |         ^^^^^ help: if this is intentional, prefix it with an underscore: `_redis`
   |
   = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: unused variable: `queries`
  --> crates/rag/tests/rag_integration_tests.rs:43:9
   |
43 |     let queries = HashMap::from([
   |         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_queries`

warning: function `test_collection_name` is never used
  --> crates/rag/tests/common/mod.rs:63:8
   |
63 | pub fn test_collection_name(prefix: &str) -> String {
   |        ^^^^^^^^^^^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: function `create_test_embedding` is never used
  --> crates/rag/tests/common/mod.rs:77:8
   |
77 | pub fn create_test_embedding() -> Vec<f32> {
   |        ^^^^^^^^^^^^^^^^^^^^^

warning: function `setup_test_collections` is never used
  --> crates/rag/tests/common/mod.rs:82:14
   |
82 | pub async fn setup_test_collections() -> Result<()> {
   |              ^^^^^^^^^^^^^^^^^^^^^^

warning: function `check_collection_exists` is never used
   --> crates/rag/tests/common/mod.rs:126:10
    |
126 | async fn check_collection_exists(qdrant: &QdrantClient, collection_name: &str) -> bool {
    |          ^^^^^^^^^^^^^^^^^^^^^^^

warning: `ai-agent-rag` (bin "rag_cli") generated 1 warning (run `cargo fix --bin "rag_cli"` to apply 1 suggestion)
warning: `ai-agent-rag` (test "rag_integration_tests") generated 8 warnings (run `cargo fix --test "rag_integration_tests"` to apply 2 suggestions)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 26.77s
warning: the following packages contain code that will be rejected by a future version of Rust: sqlx-core v0.6.3
note: to see what the problems were, use the option `--future-incompat-report`, or run `cargo report future-incompatibilities --id 1`
     Running tests/rag_integration_tests.rs (target/debug/deps/rag_integration_tests-bfdae3f60576ef97)

running 6 tests
[2025-11-27T02:37:00Z INFO  ai_agent_storage::redis] Connected to Redis at redis://localhost:16379
[2025-11-27T02:37:02Z INFO  ai_agent_rag::web_crawler] new; web_crawler_enabled=true searxng_enabled=true vector_size=384
[2025-11-27T02:37:02Z INFO  ai_agent_rag::searxng_client] new; endpoint=http://localhost:8888
[2025-11-27T02:37:02Z INFO  ai_agent_rag::searxng_client] Initialized SearXNG client: endpoint=http://localhost:8888, timeout=10s, max_results=5
[2025-11-27T02:37:02Z INFO  ai_agent_rag::searxng_client] health_check; endpoint=http://localhost:8888
[2025-11-27T02:37:02Z INFO  ai_agent_rag::searxng_client] SearXNG health check passed
[2025-11-27T02:37:02Z INFO  ai_agent_rag::web_crawler] SearXNG client initialized and healthy
[2025-11-27T02:37:02Z INFO  ai_agent_rag::retriever] Successfully initialized web crawler retriever
[2025-11-27T02:37:02Z INFO  ai_agent_rag::retriever] Source "QdrantRetriever { client: QdrantClient { url: \"http://localhost:16334\", raw_client: Qdrant Config uri: http://localhost:16334, embedder: EmbeddingClient { embedder_dense: GenericOpenAI { client: Client { http_client: Client { accepts: Accepts { gzip: true, brotli: true, zstd: true, deflate: true }, proxies: [Matcher], referer: true, default_headers: {\"accept\": \"*/*\"} }, config: OllamaConfig { api_base: \"http://localhost:11434/v1\", api_key: SecretBox<str>([REDACTED]) }, backoff: ExponentialBackoff { current_interval: 500ms, initial_interval: 500ms, randomization_factor: 0.5, multiplier: 1.5, max_interval: 60s, start_time: Instant { tv_sec: 155471, tv_nsec: 642543795 }, max_elapsed_time: Some(900s), clock: SystemClock } }, default_options: Options { embed_model: Some(\"all-minilm:l6-v2\"), prompt_model: None, parallel_tool_calls: None, max_completion_tokens: None, temperature: None, reasoning_effort: None, seed: None, presence_penalty: None, metadata: None, user: None, dimensions: None }, stream_full: true, use_responses_api: false, .. }, vector_size_dense: 384, embedder_sparse: FastEmbedBuilder { batch_size: Some(256) } } } }" returned 0 fragments in 40.019¬µs
[2025-11-27T02:37:02Z INFO  ai_agent_rag::web_crawler] retrieve; queries=[(Online, "http://127.0.0.1:46537/rust/async")] query_count=1 project_scope=ProjectScope { root: "/test/project", current_file: Some("/test/project/src/main.rs"), language_distribution: [(Rust, 1.0)] }
[2025-11-27T02:37:02Z INFO  ai_agent_rag::web_crawler] üï∏Ô∏è  WebCrawlerRetriever.retrieve() called with 1 queries
[2025-11-27T02:37:02Z INFO  ai_agent_rag::web_crawler]    SearXNG client available: true
[2025-11-27T02:37:02Z INFO  ai_agent_rag::web_crawler]    Query 1: tier=Online, query=http://127.0.0.1:46537/rust/async
[2025-11-27T02:37:02Z INFO  ai_agent_rag::web_crawler] üåê Processing Online tier query: http://127.0.0.1:46537/rust/async
[2025-11-27T02:37:03Z INFO  ai_agent_rag::web_crawler] check_semantic_cache; query="http://127.0.0.1:46537/rust/async" query_len=33
[2025-11-27T02:37:03Z INFO  ai_agent_rag::web_crawler] perform_web_search; query="http://127.0.0.1:46537/rust/async" query_len=33
[2025-11-27T02:37:03Z INFO  ai_agent_rag::web_crawler] Using SearXNG for web search
[2025-11-27T02:37:03Z INFO  ai_agent_rag::searxng_client] search; query="http://127.0.0.1:46537/rust/async" query_len=33 endpoint=http://localhost:8888
[2025-11-27T02:37:03Z INFO  ai_agent_rag::searxng_client] SearXNG search completed: query='http://127.0.0.1:46537/rust/async', found 0 results
[2025-11-27T02:37:03Z INFO  ai_agent_rag::web_crawler] SearXNG returned 0 unique URLs
[2025-11-27T02:37:03Z WARN  ai_agent_rag::web_crawler] No URLs found for query: http://127.0.0.1:46537/rust/async
[2025-11-27T02:37:03Z INFO  ai_agent_rag::web_crawler] ‚ú® Web retrieval complete: 0 total fragments
[2025-11-27T02:37:03Z INFO  ai_agent_rag::retriever] Source "WebCrawlerRetriever { collection_name: \"test_web_content\", query_cache_collection: \"test_web_query_cache\", cache_prefix: \"test_web_content:\", query_cache_prefix: \"test_web_query:\", searxng_enabled: true }" returned 0 fragments in 900.974299ms
[2025-11-27T02:37:03Z INFO  ai_agent_rag::retriever] Retrieved 0 total fragments from sources: {1: 0, 3: 0}
[2025-11-27T02:37:03Z WARN  ai_agent_rag::retriever] No fragments retrieved from any source
[2025-11-27T02:37:03Z INFO  ai_agent_rag::retriever] Source "QdrantRetriever { client: QdrantClient { url: \"http://localhost:16334\", raw_client: Qdrant Config uri: http://localhost:16334, embedder: EmbeddingClient { embedder_dense: GenericOpenAI { client: Client { http_client: Client { accepts: Accepts { gzip: true, brotli: true, zstd: true, deflate: true }, proxies: [Matcher], referer: true, default_headers: {\"accept\": \"*/*\"} }, config: OllamaConfig { api_base: \"http://localhost:11434/v1\", api_key: SecretBox<str>([REDACTED]) }, backoff: ExponentialBackoff { current_interval: 500ms, initial_interval: 500ms, randomization_factor: 0.5, multiplier: 1.5, max_interval: 60s, start_time: Instant { tv_sec: 155471, tv_nsec: 642543795 }, max_elapsed_time: Some(900s), clock: SystemClock } }, default_options: Options { embed_model: Some(\"all-minilm:l6-v2\"), prompt_model: None, parallel_tool_calls: None, max_completion_tokens: None, temperature: None, reasoning_effort: None, seed: None, presence_penalty: None, metadata: None, user: None, dimensions: None }, stream_full: true, use_responses_api: false, .. }, vector_size_dense: 384, embedder_sparse: FastEmbedBuilder { batch_size: Some(256) } } } }" returned 0 fragments in 34.082¬µs
[2025-11-27T02:37:03Z INFO  ai_agent_rag::web_crawler] retrieve; queries=[(Online, "http://127.0.0.1:46537/rust/async")] query_count=1 project_scope=ProjectScope { root: "/test/project", current_file: Some("/test/project/src/main.rs"), language_distribution: [(Rust, 1.0)] }
[2025-11-27T02:37:03Z INFO  ai_agent_rag::web_crawler] üï∏Ô∏è  WebCrawlerRetriever.retrieve() called with 1 queries
[2025-11-27T02:37:03Z INFO  ai_agent_rag::web_crawler]    SearXNG client available: true
[2025-11-27T02:37:03Z INFO  ai_agent_rag::web_crawler]    Query 1: tier=Online, query=http://127.0.0.1:46537/rust/async
[2025-11-27T02:37:03Z INFO  ai_agent_rag::web_crawler] üåê Processing Online tier query: http://127.0.0.1:46537/rust/async
[2025-11-27T02:37:03Z INFO  ai_agent_rag::web_crawler] check_semantic_cache; query="http://127.0.0.1:46537/rust/async" query_len=33
[2025-11-27T02:37:03Z INFO  ai_agent_rag::web_crawler] perform_web_search; query="http://127.0.0.1:46537/rust/async" query_len=33
[2025-11-27T02:37:03Z INFO  ai_agent_rag::web_crawler] Using SearXNG for web search
[2025-11-27T02:37:03Z INFO  ai_agent_rag::searxng_client] search; query="http://127.0.0.1:46537/rust/async" query_len=33 endpoint=http://localhost:8888
[2025-11-27T02:37:04Z INFO  ai_agent_rag::searxng_client] SearXNG search completed: query='http://127.0.0.1:46537/rust/async', found 0 results
[2025-11-27T02:37:04Z INFO  ai_agent_rag::web_crawler] SearXNG returned 0 unique URLs
[2025-11-27T02:37:04Z WARN  ai_agent_rag::web_crawler] No URLs found for query: http://127.0.0.1:46537/rust/async
[2025-11-27T02:37:04Z INFO  ai_agent_rag::web_crawler] ‚ú® Web retrieval complete: 0 total fragments
[2025-11-27T02:37:04Z INFO  ai_agent_rag::retriever] Source "WebCrawlerRetriever { collection_name: \"test_web_content\", query_cache_collection: \"test_web_query_cache\", cache_prefix: \"test_web_content:\", query_cache_prefix: \"test_web_query:\", searxng_enabled: true }" returned 0 fragments in 445.134099ms
[2025-11-27T02:37:04Z INFO  ai_agent_rag::retriever] Retrieved 0 total fragments from sources: {3: 0, 1: 0}
[2025-11-27T02:37:04Z WARN  ai_agent_rag::retriever] No fragments retrieved from any source
First request: 901.762393ms (0 fragments)
Second request: 644.420993ms (0 fragments)
Test cleanup disabled - keeping collections for reuse: ["test_web_content", "test_web_query_cache"]
test test_cache_performance ... ok
[2025-11-27T02:37:06Z INFO  ai_agent_storage::redis] Connected to Redis at redis://localhost:16379
[2025-11-27T02:37:06Z INFO  ai_agent_storage::redis] Connected to Redis at redis://localhost:16379
[2025-11-27T02:37:06Z INFO  ai_agent_rag::retriever] Web crawler disabled in configuration
[2025-11-27T02:37:06Z INFO  ai_agent_rag] rag_streaming_retrieval;
[2025-11-27T02:37:06Z INFO  ai_agent_rag::source_router] query_routing; ctx=ProjectScope { root: "/test/project", current_file: Some("/test/project/src/main.rs"), language_distribution: [(Rust, 1.0)] }
[2025-11-27T02:37:06Z INFO  ai_agent_rag::source_router] Detected web intent via heuristics for query: find documentation online about async functions
[2025-11-27T02:37:06Z INFO  ai_agent_rag::source_router] intent_classification_llm;
